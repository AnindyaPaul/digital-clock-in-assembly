<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Digital Clock in assembly language by AnindyaPaul</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Digital Clock in assembly language</h1>
        <p>Digital Clock developed in assembly language.</p>

        <p class="view"><a href="https://github.com/AnindyaPaul/digital-clock-in-assembly">View the Project on GitHub <small>AnindyaPaul/digital-clock-in-assembly</small></a></p>


        <ul>
          <li><a href="https://github.com/AnindyaPaul/digital-clock-in-assembly/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/AnindyaPaul/digital-clock-in-assembly/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/AnindyaPaul/digital-clock-in-assembly">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>Digital Clock in assembly language is developed as an educational project to learn assembly language in more detail and have practical experience.</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ol>
<li>The clock shows the time of the computer system.</li>
<li>It shows hours, minutes and seconds.</li>
<li>It uses 12 hour format.</li>
<li>It is developed in VGA graphics with 320x200 resolution.</li>
<li>It is displayed in a classy, stylish and attractive font.</li>
<li>The interface is simplistic with white text on black background.</li>
</ol>

<h2>
<a id="screenshot" class="anchor" href="#screenshot" aria-hidden="true"><span class="octicon octicon-link"></span></a>Screenshot</h2>

<p><img src="http://i.imgur.com/xTWO9mm.jpg" alt="Digital Clock in assembly home screen"></p>

<h2>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use</h2>

<ul>
<li>Download <a href="http://sourceforge.net/projects/tasmforwindows/">TASM for windows</a> and install.</li>
<li>Build the program and run it.</li>
</ul>

<h2>
<a id="how-it-works" class="anchor" href="#how-it-works" aria-hidden="true"><span class="octicon octicon-link"></span></a>How it works</h2>

<ol>
<li>First we define two macros for later uses. One for drawing rows and another for drawing columns. We send the row, column and color values as parameters for the macros.</li>
<li>We then set the video mode for our display operation.</li>
<li>Since we are going to use 1CH in order to continuously refresh the screen, we set the interrupt vector for 1CH.</li>
<li>The routine which will be executed each time the 1CH interrupt is generated, is defined.</li>
<li>In the routine, we first generate interrupt to get the current time from the system.</li>
<li>As the time is returned into the registers, we use those values to convert that time to a string for ease in later tasks.</li>
<li>We define ten functions each for displaying each digit from 0 to 9.</li>
<li>Each digit is created using the macros defined earlier. We draw rows and columns for the digits accordingly.</li>
<li>Before a digit is printed on the screen, we first clear the screen since it will have the previously displayed digit on the screen.</li>
<li>As the screen keeps getting refreshed continuously, the program waits for a key to be pressed in order to terminate the program.</li>
<li>As a key is pressed the display is set back to text mode and the program terminates and returns control to DOS.</li>
</ol>

<h2>
<a id="interrupts-used-in-the-program" class="anchor" href="#interrupts-used-in-the-program" aria-hidden="true"><span class="octicon octicon-link"></span></a>Interrupts used in the program</h2>

<h3>
<a id="int-10h" class="anchor" href="#int-10h" aria-hidden="true"><span class="octicon octicon-link"></span></a>INT 10H:</h3>

<p>This interrupt is used to execute graphics based routines.<br>
AH = 00H; set graphics mode<br>
AL = 13H; graphics mode VGA 320 x 200 256 color<br>
INT 10H  </p>

<p>AH = 0CH; draw pixel<br>
AL = color<br>
BH = page<br>
CX = column<br>
DX = row<br>
INT 10H  </p>

<h3>
<a id="int-16h" class="anchor" href="#int-16h" aria-hidden="true"><span class="octicon octicon-link"></span></a>INT 16H:</h3>

<p>The bios interrupt 16H routine is the key-board driver. In order to take an input from the keyboard we have used this interrupt where the function value 00H was stored in AH.<br>
AH = 00H; wait for a key press<br>
INT 16H  </p>

<h3>
<a id="int-21h" class="anchor" href="#int-21h" aria-hidden="true"><span class="octicon octicon-link"></span></a>INT 21H:</h3>

<p>This is a DOS interrupt. It is used to request different DOS function. The function value is stored in AH. In our program we have used three functions.<br>
AL = interrupt number<br>
AH = 35H; gets interrupt vector stored in AL<br>
INT 21H; returns the address to ES:BX  </p>

<p>AL = interrupt number<br>
AH = 25H; sets interrupt vector stored in AL<br>
INT 21H; sets the vector to DS:DX  </p>

<p>AH = 2CH; gets the current time, CH = hour, CL = minute, DH = second<br>
INT 21H;  </p>

<p>AH = 4CH; returns program to DOS<br>
INT 21H;  </p>

<h3>
<a id="int-1ch" class="anchor" href="#int-1ch" aria-hidden="true"><span class="octicon octicon-link"></span></a>INT 1CH:</h3>

<p>The 1CH interrupt is automatically generated by an internal clock circuit. It is generated about 18.2 times per second on an average. We can define a routine for this interrupt which will be executed every time the interrupt is generated. Since we need to continuously refresh the display, we simply define a routine to refresh the display.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/AnindyaPaul">AnindyaPaul</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
